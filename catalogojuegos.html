<!DOCTYPE HTML>

<html>
	<head>
		<title>Catálogo</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
        <link rel="stylesheet" href="style/style_juegos.css" />
        <link rel="stylesheet" href="style/style-xlarge.css" />
	</head>
	<body onload="CargarJuegos()" background-color="black">
			<header id="header" class="skel-layers-fixed">
				<nav id="nav">
					<ul>
						<li><a href="catalogojuegos.html">Catálogo de Videojuegos</a></li>
						<li><a href="busqueda_realizada.html">Buscar</a></li>
						<li><a href="biblioteca.html">Biblioteca</a></li>
						<li><a href="cargamasiva.html">Carga Masiva</a></li>
                        <li><a href="crud_videojuegos.html">CRUD de Videojuegos</a></li>
                        <li><a href="reportes.html">Reportes</a></li>
                        <li><a href="crear_admin.html">Crear Usuario</a></li>
						<li><a href="login.html">Cerrar Sesión</a></li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper style1">
				<header class="major">
					<h1>Catálogo de Videojuegos</h1>
				</header>
				<div class="container">

					<div class="row" id="juegos">

				

					</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<div class="row double">
						<div class="6u">
							<div class="row collapse-at-2">
								<div class="6u">
								</div>
								<div class="6u">
								</div>
							</div>
						</div>
						<div class="6u">
						</div>
					</div>
					<ul class="copyright">
						<li>Juegos GO USAC</li>
						<li>2020</li>
					</ul>
				</div>
			</footer>


			<script>
				function CargarJuegos() {
		
					fetch('https://juegosgousac-backend.herokuapp.com/cargar_listajuegos', {
							method: 'GET',
							headers: {
								'Content-Type': 'application/json'
							}
						}).then(res => res.json())
						.catch(err => {
							console.log(err)
							alert('Ocurrió un error al momento de obtener los registros')
						}).then(response => {
							var juegos = response;
							var cajas_juegos = document.querySelector('#juegos')
		
							juegos.forEach(juegos => {
		
			cajas_juegos.innerHTML += `<a href="detalles_juegos.html?id=${juegos['id']}"><div class="special box">
															<div>
										
								<img class="imagen_juegos" src=${juegos.imagen} height="300"width="200">
								<div class="pos_categorias">
								${juegos.categoria1}-${juegos.categoria2}
								</div>
								<div class="pos_nombre">
								${juegos.nombre_juego}
								</div>
								<div class="pos_precio">
								${juegos.precio}
								</div>
								</div>
								</div></a>`
		
							});
		
						})		
					var nombre = sessionStorage.getItem(null);
				}
				</script>
		
	</body>
</html>